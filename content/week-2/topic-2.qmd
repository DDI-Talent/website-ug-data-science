---
title: "Importing Data"
format: html
---

## How to import data?

We will be using one of the datasets available from [Public Health Scotland](https://www.opendata.nhs.scot/), called [Cancelled Planned Operations by Health Board](https://www.opendata.nhs.scot/dataset/cancelled-planned-operations/resource/0f1cf6b1-ebf6-4928-b490-0a721cc98884).

Here are the functions we'll be covering in the the topic videos:

-    base::library() we're already familiar with for loading packages
-    readr::read_csv() for importing CSV files
-    here::here() is a function that helps R find files
-    readxl::read_excel() for importing Excel files

![](images/here.png){fig-alt="Cartoon illustrating the here function"}

 [artwork by Allison Horst](https://twitter.com/allison_horst?lang=en)

*Note: The word before the ::  is the name of the package and the word after the ::  is the name of a function from that package, in the format: package::function()*

## **CSV Files**

Watch the following video to find out how to import CSV files using R code and also using the import wizard, with some extra tips to help you deal with dates.

If you want to recreate the session in the video on your own computer, you can download the **cancelled_operations** project folder here: [cancelled_operations.zip](./files/cancelled_operations.zip) *Note: To open the project, make sure to "unzip" or "extract all" from the folder, before clicking on the cancelled_operations.Rproj file to open the project in RStudio.*

*Alternatively, here are the individual files, but to recreate the file structure, you will need to create your own RStudio project and within this a "data" folder to store examples 2, 3 and 4 in, for the examples to work:*


```{r}
#| echo: false
library(downloadthis)

download_link(
  link = "./files/phs_cancelled1.csv",
  button_label = "phs_cancelled1.csv",
  button_type = "danger",
  has_icon = TRUE,
  icon = "fa fa-save",
  self_contained = FALSE
)
```

-------------------------------

```{r}
#| echo: false

download_link(
  link = "./files/phs_cancelled2.csv",
  button_label = "phs_cancelled2.csv",
  button_type = "danger",
  has_icon = TRUE,
  icon = "fa fa-save",
  self_contained = FALSE
)
```

-------------------------------

```{r}
#| echo: false

download_link(
  link = "./files/phs_cancelled3.csv",
  button_label = "phs_cancelled3.csv",
  button_type = "danger",
  has_icon = TRUE,
  icon = "fa fa-save",
  self_contained = FALSE
)
```

-------------------------------

```{r}
#| echo: false

download_link(
  link = "./files/phs_cancelled4.csv",
  button_label = "phs_cancelled4.csv",
  button_type = "danger",
  has_icon = TRUE,
  icon = "fa fa-save",
  self_contained = FALSE
)
```


[![](images/Screenshot 2025-05-26 at 14.39.46.png){fig-alt="How to import CV files"}](https://cdnapisec.kaltura.com/p/2010292/sp/201029200/embedIframeJs/uiconf_id/32599141/partner_id/2010292?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=1_ntwi93hq&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&amp;wid=0_bb2s1o4d)

Download the video transcript link [here](./files/Importing CSV Files.docx).

### Uncommon File Formats

In the video on how to import CSV files above, we show you how to use the import wizard to provide a preview of how R might read in your file.

The example CSV file we are using is in the common format where values are separated by commas, but as mentioned briefly in the video, if your file uses a different delimeter (separator), for example, **dots** or **spaces** or **semi-colons**, you can specify this in the import options of the wizard.


